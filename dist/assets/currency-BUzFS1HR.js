import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */console.log("Currency Converter loaded!");const v="bf31e578c173d628fb6c7373",f=`https://v6.exchangerate-api.com/v6/${v}`,i=document.getElementById("amount"),y=document.getElementById("fromCurrency"),m=document.getElementById("toCurrency"),h=document.getElementById("convertBtn"),d=document.getElementById("loading"),a=document.getElementById("error"),l=document.getElementById("result"),I=document.getElementById("resultAmount"),$=document.getElementById("exchangeRate"),B=document.getElementById("lastUpdate");async function c(){const t=parseFloat(i.value),r=y.value,o=m.value;if(isNaN(t)||t<=0){u("Введите корректную сумму");return}d.style.display="block",a.style.display="none",l.style.display="none";try{const e=await fetch(`${f}/latest/${r}`);if(!e.ok){const g=await e.json().catch(()=>({}));throw new Error(g.error_type==="invalid-key"?"Неверный API-ключ. Проверьте ключ на https://app.exchangerate-api.com/":`Ошибка API: ${e.status} ${e.statusText}`)}const n=await e.json();if(n.result!=="success")throw new Error(n["error-type"]||"Неизвестная ошибка API");if(!n.conversion_rates||!n.conversion_rates[o])throw new Error(`Курс для ${o} не найден`);const s=n.conversion_rates[o],p=(t*s).toFixed(2),E=new Date(n.time_last_update_utc).toLocaleString("ru-RU");w(t,r,p,o,s,E)}catch(e){u(e.message||"Не удалось выполнить конвертацию")}finally{d.style.display="none"}}function w(t,r,o,e,n,s){I.textContent=`${t} ${r} = ${o} ${e}`,$.textContent=`Курс: 1 ${r} = ${parseFloat(n).toFixed(4)} ${e}`,B.textContent=`Обновлено: ${s}`,l.style.display="block"}function u(t){a.textContent=t,a.style.display="block"}h.addEventListener("click",c);i.addEventListener("keypress",t=>{t.key==="Enter"&&c()});[y,m].forEach(t=>{t.addEventListener("change",()=>{l.style.display==="block"&&c()})});c();
